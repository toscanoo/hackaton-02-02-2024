"""Sujet 4: jeu rogue

Par:
Mathieu Toscanop
Louis Bindel
Antonin piechaczyk
Timoth√©e Bacchi
"""

M = [
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        3,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        4,
        4,
        4,
        4,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        3,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        2,
        2,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        3,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        1,
        2,
        1,
        1,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        1,
        1,
        1,
        3,
        1,
        1,
        1,
        3,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        3,
        3,
        1,
        1,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        3,
        3,
        1,
        1,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        3,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        3,
        3,
        4,
        4,
        3,
        3,
        2,
        2,
        2,
        2,
        2,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        3,
        3,
        4,
        4,
        3,
        3,
        2,
        2,
        2,
        2,
        2,
        3,
        4,
        4,
        4,
        4,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        4,
        4,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        4,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        4,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        3,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        4,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        3,
        4,
        4,
        4,
        4,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        0,
        0,
        0,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        4,
        4,
        4,
        4,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
]

import pygame
import numpy as np
import turtle

pygame.init()
pygame.display.set_caption("plato")
clock = pygame.time.Clock()
# game.init_screen()


def add_list(A, B):
    if len(A) == len(B):
        return [A[i] + B[i] for i in range(len(A))]
    else:
        print("error")


class weapons:
    def __init__(self, damages, sustainability):
        self.damages = damages
        self.sustainability = sustainability


class Monstre:
    def __init__(self, life_init, circuit, vitesse):
        self.circuit = circuit
        self.life = life_init
        self.vitesse = vitesse
        self.position = 0
        self.lastmovetime = 0
        self.lastattacktime = 0

    def move(self):
        self.lastmovetime = pygame.time.get_ticks
        if self.position < len(self.circuit) - 1:
            self.position += 1
        else:
            self.position = 0

    def is_it_time_to_move(self):
        return pygame.time.get_ticks - self.lastmovetime > self.speed * 5000

    def is_it_time_to_attack(self):
        return pygame.time.get_ticks - self.lastattacktime > self.speed * 10000

    def lose_hp(self):
        self.life -= 1

    def display(self):

        i = self.circuit[self.position][0]
        j = self.circuit[self.position][1]
        gameboard.draw_square(
            [
                i * gameboard.coef,
                j * gameboard.coef,
            ],
            (0, 0, 255 * player.ray_tracing()[j][i]),
            gameboard.coef,
        )

    def attack(self):
        self.lastattacktime = pygame.time.get_ticks

        x = self.circuit[self.position][0]
        y = self.circuit[self.position][1]
        zone = [
            [x + 1, y + 1],
            [x - 1, y - 1],
            [x + 1, y],
            [x - 1, y],
            [x, y + 1],
            [x, y - 1],
            [x + 1, y - 1],
            [x - 1, y + 1],
        ]
        for i in range(len(zone)):
            for j in range(2):
                p = zone[i][j]
                zone[i][j] = p * gameboard.coef

        for case in zone:
            if player.position == case:
                player.lose_hp()
            i = int(case[0] / gameboard.coef)
            j = int(case[1] / gameboard.coef)
            gameboard.draw_square(
                case,
                (0, 255 * player.ray_tracing()[j][i], 255 * player.ray_tracing()[j][i]),
                gameboard.coef,
            )


class Player:
    def __init__(self, life_init, strengh_init, position_init, weapons):
        self.position = position_init
        self.life = life_init
        self.strengh = strengh_init
        self.weapons = weapons
        self.move_vect = [0, 0]

    def afficher_attributs(self):
        pass

    def display(self):
        gameboard.draw_square(
            [self.position[0] * gameboard.coef, self.position[1] * gameboard.coef],
            (0, 255, 0),
            gameboard.coef,
        )

    def lose_hp(self):
        self.life -= 1

    def verif_move_legal(self):
        nextpos = add_list(self.position, self.move_vect)
        return not (
            nextpos[0] < 0
            or nextpos[0] >= gameboard.width
            or nextpos[1] < 0
            or nextpos[1] >= gameboard.hight
            or gameboard.matrice[nextpos[1]][nextpos[0]] in [0, 1]
        )

    def display_hp(self):
        for i in range(self.life):
            gameboard.draw_square(
                [
                    (gameboard.width - 1.5) * gameboard.coef,
                    gameboard.coef + (2.3 * i + 1) * gameboard.coef,
                ],
                (255, 255, 255),
                gameboard.coef * 2,
            )

    def move(self):
        self.position = add_list(self.position, self.move_vect)

    def sight(self, dist):
        sight_mat = [
            [0 for i in range(gameboard.width)] for j in range(gameboard.hight)
        ]
        for i in range(gameboard.width):
            for j in range(gameboard.hight):
                if (
                    np.sqrt((i - self.position[0]) ** 2 + (j - self.position[1]) ** 2)
                    < dist
                ):
                    sight_mat[j][i] = 1
        return sight_mat

    def ligne_generator(self, A, B):
        L = []
        deltay = B[1] - A[1]
        deltax = B[0] - A[0]
        if np.abs(deltay) <= np.abs(deltax):
            for x in range(deltax):
                y = np.floor(((deltay / deltax) * (x - A[0]) + A[1] + 0.5))
                L.append([int(x), int(y)])
                print(y)
        else:
            for y in range(deltay):
                x = np.floor(((deltax / deltay) * (y - A[1]) + A[0] + 0.5))
                L.append([int(x), int(y)])
        return L[1:]

    def bresenham(self, A, B):
        x0 = A[0]
        y0 = A[1]
        x1 = B[0]
        y1 = B[1]
        points = []
        dx = abs(x1 - x0)
        dy = abs(y1 - y0)
        x, y = x0, y0
        sx = -1 if x0 > x1 else 1
        sy = -1 if y0 > y1 else 1
        if dx > dy:
            err = dx / 2.0
            while x != x1:
                points.append([int(x), int(y)])
                err -= dy
                if err < 0:
                    y += sy
                    err += dx
                x += sx
        else:
            err = dy / 2.0
            while y != y1:
                points.append([int(x), int(y)])
                err -= dx
                if err < 0:
                    x += sx
                    err += dy
                y += sy
        points.append([int(x), int(y)])
        x = len(points)
        return points[1 : x - 1]

    def ray_tracing(self):
        sight_mat = self.sight(20)
        for i in range(gameboard.width):
            for j in range(gameboard.hight):
                if sight_mat[j][i] == 1:
                    ligne = self.bresenham(self.position, [i, j])
                    for case in ligne:
                        if gameboard.matrice[case[1]][case[0]] in [1, 3]:
                            sight_mat[j][i] = 0
        return sight_mat


class Gameboard:
    def __init__(self):
        self.coef = 15
        # matrice=[[0 for i in range(lenght)] for j in range(hight)]
        self.matrice = M
        self.width = len(self.matrice[0])
        self.hight = len(self.matrice)

    def draw_square(self, position, color, size):
        rect2 = pygame.Rect(position[0] - size / 2, position[1] - size / 2, size, size)
        pygame.draw.rect(self.screen, color, rect2)

    def init_screen(self):
        self.screen = pygame.display.set_mode(
            (self.width * self.coef, self.hight * self.coef)
        )
        self.screen.fill((0, 0, 0))
        mat_sight = player.ray_tracing()
        for i in range(self.width):
            for j in range(self.hight):
                self.draw_square(
                    [i * self.coef, j * self.coef],
                    (255 * (1 / 4) * self.matrice[j][i] * mat_sight[j][i], 0, 0),
                    self.coef,
                )


"""
    def methodes_classe(self):
        def self.afficher():
        
        self.matrice[]
            traduction_rogue = {
                0: ".",  # vide
                1: "#",  # mur
                2: " ",  # int√©rieur salle
                3: "+",  # porte
                4: "-",  # couloir
            }
            for x in self.matrice():
                print(traduction_rogue[x])
"""
gameboard = Gameboard()
player = Player(3, 0, [5, 5], "prout")
monstre = Monstre(
    2, [[14, 37], [15, 37], [16, 37], [16, 36], [15, 36], [14, 36], [14, 37]], 2
)

gameboard.init_screen()

while True:
    clock.tick(10)
    gameboard.init_screen()
    pygame.display.update()
    for event in pygame.event.get():
        if event.type == pygame.KEYDOWN:
            if event.key == (pygame.K_UP):  # fl√®che haut
                player.move_vect = [0, -1]
                if player.verif_move_legal():  # si le mouvement est legal on avance
                    player.move()
            if event.key == (pygame.K_DOWN):  # fl√®che bas
                player.move_vect = [0, 1]
                if player.verif_move_legal():  # si le mouvement est legal on avance
                    player.move()
            if event.key == (pygame.K_RIGHT):  # fl√®che droite
                player.move_vect = [1, 0]
                if player.verif_move_legal():  # si le mouvement est legal on avance
                    player.move()
            if event.key == (pygame.K_LEFT):  # fl√®che gauche
                player.move_vect = [-1, 0]
                if player.verif_move_legal():  # si le mouvement est legal on avance
                    player.move()
    player.display()
    player.display_hp()
    """if monstre.is_it_time_to_move:
        monstre.move()
    if monstre.is_it_time_to_attack:
        monstre.attack()
    monstre.display()"""
    pygame.display.update()
